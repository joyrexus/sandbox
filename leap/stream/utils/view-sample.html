<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    margin-top: 25px;
    margin-left: 50px;
    font-family: "Helvetica Neue", sans-serif;
    font-weight: 100;
    font-size: 75px;
    color: #777;
    -webkit-font-smoothing: antialiased;
  }
  
  #file {
    color: steelblue;
  }
  
  #file:hover {
    color: orange;
    cursor: pointer;
  }
  
  #info {
    display: -webkit-box;
    -webkit-box-orient: horizontal;
  }
  
  input {
    display: none;
  }
</style>
<body>
  <div id="info">
    <input type="file" id="chooser" />
    <div id="file">Click and choose sample</div>
  </div>

<script src="http://cdnjs.cloudflare.com/ajax/libs/coffee-script/1.6.3/coffee-script.min.js"></script>
<script type="text/coffeescript">
  # load handler invoked on change event
  load = -> 
    File = @files[0]
    return if not File.type.match '\.json$'
    file.textContent = File.name
    reader = new FileReader()
    reader.onload = (file) -> render JSON.parse @result
    reader.readAsText File

  # click and choose a file to load
  chooser.addEventListener('change', load)
  file.addEventListener('click', -> chooser.click())

  render = (data) -> console.log data
</script>
