<!DOCTYPE html>
<meta charset="utf-8">
<script src="../lib/d3.v3.min.js"></script>
<script src="../lib/coffee-script.js"></script>
<style>
  body {
    margin: 80px;
    font-family: "Helvetica Neue";
    font-weight: 100;
    font-size: 400px;
    color: #333;
  }
</style>
<body>
<script type="text/coffeescript">

  choice = (msg) ->
    event = d3.dispatch 'click'
    clickable = (selection) -> selection.append('div').text(msg)
        .on('click', -> event.click(msg))
    d3.rebind clickable, event, 'on'

  d3.select('body')
    .call(choice 'hi!')
    .on('click', -> alert 'you clicked!')

</script>

